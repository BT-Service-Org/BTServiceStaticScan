@isTest
global class OrgRefresh_MockCertDataFetchTest implements HttpCalloutMock{
    
    // Implement this interface method
    global HTTPResponse respond(HTTPRequest req) {
        //validate the request params through asserts
        System.debug('=====req.getBody()===' + req.getBody());
        System.debug('=====req.getEndpoint()===' + req.getEndpoint());

        // Create a fake auth response
        HttpResponse res = new HttpResponse();
        
        //set the response based on the end point
        if(req.getEndpoint().contains('/services/data/v29.0/query/')){
            res.setHeader('Content-Type', 'application/json');
            res.setBody('{"totalSize":30,"done":true,"records":[{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG0000008yQUqMAM"},"Certification_Type_Name__c":"Certified Administrator","Original_Certification_Date__c":"2008-10-07T14:28:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G0000017E1VtIAK"},"Email":"testclassuser1@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG0000008yQUrMAM"},"Certification_Type_Name__c":"Certified Developer","Original_Certification_Date__c":"2008-12-15T16:17:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G0000017E1VtIAK"},"Email":"testclassuser1@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG0000008yQUsMAM"},"Certification_Type_Name__c":"Certified Advanced Administrator","Original_Certification_Date__c":"2008-12-29T15:54:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G0000017E1VtIAK"},"Email":"testclassuser1@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG0000008yQUtMAM"},"Certification_Type_Name__c":"Certified Advanced Developer","Original_Certification_Date__c":"2011-12-15T22:52:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G0000017E1VtIAK"},"Email":"testclassuser1@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG0000008yQUuMAM"},"Certification_Type_Name__c":"Certified Consultant","Original_Certification_Date__c":"2008-12-22T16:31:00.000+0000","Certification_Status__c":"EXPIRED","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G0000017E1VtIAK"},"Email":"testclassuser1@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG0000008yU7WMAU"},"Certification_Type_Name__c":"Certified Sales Consultant","Original_Certification_Date__c":"2011-07-14T19:12:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G0000017E1VtIAK"},"Email":"testclassuser1@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG0000008yUC1MAM"},"Certification_Type_Name__c":"Certified Service Consultant","Original_Certification_Date__c":"2011-07-28T18:52:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G0000017E1VtIAK"},"Email":"testclassuser1@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG0000008yXPIMA2"},"Certification_Type_Name__c":"Certified Technical Architect","Original_Certification_Date__c":"2011-11-10T23:07:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G0000017E1VtIAK"},"Email":"testclassuser1@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000ECY2IMAX"},"Certification_Type_Name__c":"Certified Administrator","Original_Certification_Date__c":"2013-11-20T20:10:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001KeFQcIAN"},"Email":"testclassuser2@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000ECz43MAD"},"Certification_Type_Name__c":"Certified Developer","Original_Certification_Date__c":"2013-12-18T21:25:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001KeFQcIAN"},"Email":"testclassuser2@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000J1DDPMA3"},"Certification_Type_Name__c":"Certified Advanced Administrator","Original_Certification_Date__c":"2014-01-10T18:24:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001KeFQcIAN"},"Email":"testclassuser2@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000J1c79MAB"},"Certification_Type_Name__c":"Certified Service Consultant","Original_Certification_Date__c":"2014-01-31T18:37:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001KeFQcIAN"},"Email":"testclassuser2@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000J1q9aMAB"},"Certification_Type_Name__c":"Certified Sales Consultant","Original_Certification_Date__c":"2014-02-07T19:13:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001KeFQcIAN"},"Email":"testclassuser2@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EB99XMAT"},"Certification_Type_Name__c":"Certified Administrator","Original_Certification_Date__c":"2013-08-06T20:42:00.000+0000","Certification_Status__c":"PARTIALLY_CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsnRjIAJ"},"Email":"testclassuser3@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBI89MAH"},"Certification_Type_Name__c":"Certified Developer","Original_Certification_Date__c":"2013-08-14T23:16:00.000+0000","Certification_Status__c":"PARTIALLY_CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsnRjIAJ"},"Email":"testclassuser3@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBTs1MAH"},"Certification_Type_Name__c":"Certified Service Consultant","Original_Certification_Date__c":"2013-09-02T05:06:00.000+0000","Certification_Status__c":"PARTIALLY_CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsnRjIAJ"},"Email":"testclassuser3@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBZM6MAP"},"Certification_Type_Name__c":"Certified Sales Consultant","Original_Certification_Date__c":"2013-09-09T05:37:00.000+0000","Certification_Status__c":"PARTIALLY_CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsnRjIAJ"},"Email":"testclassuser3@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBlofMAD"},"Certification_Type_Name__c":"Certified Advanced Administrator","Original_Certification_Date__c":"2013-09-26T03:02:00.000+0000","Certification_Status__c":"PARTIALLY_CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsnRjIAJ"},"Email":"testclassuser3@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBqauMAD"},"Certification_Type_Name__c":"Certified Technical Architect","Original_Certification_Date__c":"2013-10-01T03:48:00.000+0000","Certification_Status__c":"IN_PROGRESS_1","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsnRjIAJ"},"Email":"testclassuser3@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBw2yMAD"},"Certification_Type_Name__c":"Certified Administrator","Original_Certification_Date__c":"2013-10-05T20:08:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001Fv4MGIAZ"},"Email":"testclassuser4@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000ECC2xMAH"},"Certification_Type_Name__c":"Certified Developer","Original_Certification_Date__c":"2013-10-27T21:17:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001Fv4MGIAZ"},"Email":"testclassuser4@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000ECOHvMAP"},"Certification_Type_Name__c":"Certified Advanced Administrator","Original_Certification_Date__c":"2013-11-10T22:48:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001Fv4MGIAZ"},"Email":"testclassuser4@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000ECVnPMAX"},"Certification_Type_Name__c":"Certified Service Consultant","Original_Certification_Date__c":"2013-11-19T17:06:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001Fv4MGIAZ"},"Email":"testclassuser4@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000ECdXFMA1"},"Certification_Type_Name__c":"Certified Sales Consultant","Original_Certification_Date__c":"2013-11-26T20:35:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001Fv4MGIAZ"},"Email":"testclassuser4@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EB8wuMAD"},"Certification_Type_Name__c":"Certified Administrator","Original_Certification_Date__c":"2013-08-05T20:02:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsSaqIAF"},"Email":"testclassuser5@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBCxdMAH"},"Certification_Type_Name__c":"Certified Developer","Original_Certification_Date__c":"2013-08-07T23:03:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsSaqIAF"},"Email":"testclassuser5@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBEceMAH"},"Certification_Type_Name__c":"Certified Advanced Administrator","Original_Certification_Date__c":"2013-08-09T23:18:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsSaqIAF"},"Email":"testclassuser5@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBFOqMAP"},"Certification_Type_Name__c":"Certified Sales Consultant","Original_Certification_Date__c":"2013-08-12T14:14:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsSaqIAF"},"Email":"testclassuser5@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000EBH3fMAH"},"Certification_Type_Name__c":"Certified Service Consultant","Original_Certification_Date__c":"2013-08-14T00:24:00.000+0000","Certification_Status__c":"CURRENT","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsSaqIAF"},"Email":"testclassuser5@test.org"}},{"attributes":{"type":"Certification_Status__c","url":"/services/data/v29.0/sobjects/Certification_Status__c/a0MG000000ECC3CMAX"},"Certification_Type_Name__c":"Certified Technical Architect","Original_Certification_Date__c":"2013-12-09T17:28:00.000+0000","Certification_Status__c":"IN_PROGRESS_2","Contact__r":{"attributes":{"type":"Contact","url":"/services/data/v29.0/sobjects/Contact/003G000001FsSaqIAF"},"Email":"testclassuser5@test.org"}}]}');
            res.setStatusCode(200);
            return res;
        }
        //auth end point
        else{
             res.setHeader('Content-Type', 'application/json');
             res.setBody('{"access_token":"test_access_token","instance_url":"https://test.auth.com","refresh_token":"test_refresh_token"}');
             res.setStatusCode(200);
             return res;
        }
    }
    
}